<?xml version='1.0' encoding='ISO-8859-1' ?>
<!DOCTYPE requirement SYSTEM "requirement.dtd">

<requirement id='admin.telnet' type='NEW' prio='LOW' status="CLOSED">
   <topic>You can administer XmlBlaster using a telnet client</topic>
   <description>
    There is support to access xmlBlaster with telnet.
    You can for example query the free memory of the server JVM or shutdown xmlBlaster.
    <p>
    This is based on <a href="http://wttools.sourceforge.net/" target="others">Remote Console</a>
    of the WTTools project. 
    </p>
    <p>
    A good port to access xmlBlaster is 2702, configuring the port to 0 switches
    the telnet access off. The default is 0 because of very high security risks.
    </p>
    <p>
    The plugin architecture of <i>remotecons</i> allows us
    to add more functionality like internal state queries or setting
    of properties.
    </p>
    <b>
    You should switch telnet access off (configure the port to 0, see below) when delivering xmlBlaster
    to your customer, as there is currently no login/passwd protection. Remote console allows you
    to execute every command on the server machine like deleting the harddisk!
    </b>
   </description>

   <example lang="Java" type="HTML">
    Start xmlBlaster
    <pre>
  java org.xmlBlaster.Main -cluster.node.id heron -admin.remoteconsole.port 2702
    </pre>

    and try a
    <pre>
  telnet myHost 2702
    </pre>

    Replace <code>myHost</code> with the IP where xmlBlaster runs.
    <p>
    Type <code>help</code> for a usage list.
    </p>
    <p>
    Example to query the home directory of the user which started xmlBlaster
    and the current free memory in the server, the last example queries how many
    users are currently known in the server:
    </p>
    <pre>
  CMD>get sysprop/?user.home

  get sysprop/?user.home
  /node/heron/sysprop/?user.home=/home/xmlblast


  CMD>get ?freeMem

  get ?freeMem
  /node/heron/?freeMem=942272


  CMD>get /node/heron/?numClients

  get /node/heron/?numClients
  /node/heron/?numClients=0
    </pre>

    <p>
    Here is an example change the logging level of the authentication modules:
    </p>
    <pre>
  CMD> set sysprop/?call[auth]=true

  set sysprop/?call[auth]=true
  /node/heron/sysprop/?call[auth]=true
    </pre>

    <p>
    This example sets a variable with replacement (currently not very useful):
    </p>
    <pre>
  CMD> set sysprop/?myTmpPath=${user.home}${file.separator}backup

  set sysprop/?myTmpPath=${user.home}${file.separator}backup
  /node/heron/sysprop/?myTmpPath=/home/xmlblast/backup
    </pre>

    <p>
    Now lets query and change the run level:
    </p>
    <pre>
  CMD> get ?runlevel

  get ?runlevel
  /node/heron/?runlevel=9

  CMD> set ?runlevel=3 

  set ?runlevel=3
  /node/heron/?runlevel=/node/heron/?runlevel=3
    </pre>

    <p>
       Please read the <a href="admin.commands.html">admin.commands requirement</a>
       for a description of the command syntax.
    </p>

   </example>

   <configuration where="server">
      <table border="1">
         <tr>
            <td>Property</td>
            <td>Default / Example</td>
            <td>Description</td>
            <td>Implemented</td>
         </tr>

         <tr>
            <td>-remoteconsole.port</td>
            <td>0</td>
            <td>Choose the port where xmlBlaster listens for telnet requests, 0 switches telnet access off. Port 2702 is a good port to try.</td>
            <td>yes</td>
         </tr>
      </table>
   </configuration>

   <todo type='HTML'>
   <ol>
      <li>
      Add login/password, currently everybody can access xmlBlaster
      and for example do a shutdown.
      </li>
      <li>
      Add more xmlBlaster specific query possibilities
      </li>
      <li>
      Support setting of properties
      </li>
   </ol>
   </todo>
   
   <see type="INTERNET">http://wttools.sourceforge.net/remotecons/package.html</see>
   <see type="API">org.xmlBlaster.Main</see>
   <see type="REQ">admin</see>
   <see type="REQ">admin.commands</see>
   
   <author>ruff@swand.lake.de</author>
   
   <date>2002 05 09</date>
   
   <revision>$Revision: 1.7 $</revision>

   <testcase status="CLOSED">
      <name>-</name>
      <comment>Currently not necessary</comment>
      <test tool="SUITE"></test>
   </testcase>
</requirement>

