<?xml version='1.0' encoding='ISO-8859-1' ?>
<!DOCTYPE requirement SYSTEM "requirement.dtd">

<requirement id='engine.qos.subscribe.OfflineQueuing' type='NEW' prio='MEDIUM' status="OPEN">
   <topic>XmlBlaster allows permanent subscriptions which remains subscribed even when the subscriber is logged out</topic>
   <description>
   This feature directs xmlBlaster to queue subscribed messages until the client returns.
   It is used in Publish/Subscribe mode.
   The queue used is the same as the PtP queue for logged out clients.
   Decide during implementation which of the attributes (see example section) to support.
   If messages are discarded, the update qos delivering the first message from the
   queue should contain a tag &lt;PartiallyLost> telling the receiver that some
   are missing.
   </description>
   <example lang="Java">
      <![CDATA[
      <qos>           <!-- QoS in a subscription -->
         <OfflineQueuing /> <!-- Message is queued until the client logs in -->
                          <!-- Default is that the subscription is canceled on logout -->

         <!-- NOTE: These atributes may be obsolete, since we may have specified on
              our last login the queue properties, and we only have one queue dedicated for
              a client for all messages (see login - qos)  -->
         <OfflineQueuing timeout='3600' /> <!-- Messages older than timeout seconds
                            (the time the client is offline) are discarded -->

         <OfflineQueuing maxNum="36" /> <!-- Queue not more than 36 messages, older are discarded
                            off the end -->

         <OfflineQueuing maxBytes="2000000" /> <!-- Max queue size in bytes, if exceeded, the
                             oldest are discarded -->
      </qos>
      ]]>
   </example>
   <see type="REQ">engine.qos.publish.destination.ForceQueuing</see>
   <see type="API">org.xmlBlaster.client.qos.SubscribeQos</see>
   <see type="API">org.xmlBlaster.client.key.SubscribeKey</see>
   <author>xmlBlaster@marcelruff.info</author>
   <date>2000 04 28</date>
   <revision>$Revision: 1.4 $</revision>
   <testcase status="OPEN">
      <name>-</name>
      <comment>-</comment>
      <test tool="SUITE"></test>
   </testcase>
</requirement>

