<?xml version='1.0' encoding='ISO-8859-1' ?>
<!DOCTYPE requirement SYSTEM "requirement.dtd">

<requirement id='client.failsave.ping' type='NEW' prio='LOW' status="CLOSED">
   <topic>
      Allows Java clients to ping xmlBlaster, to test reliable the connection.
   </topic>
   <description>
      The xmlBlaster interface has a ping method. This allows checking the CORBA connection.
      The Java CorbaConnection class uses this ping (if in fail save mode) and
      starts login polling if the ping fails.
      Use method CorbaConnection.initFailSave() to activate the ping feature
      and set the ping interval.
      Note that this is a pure client behavior, and for the moment the only reference implementation
      is in Java.
   </description>
   <example lang="Java">
      <![CDATA[
      try {
         corbaConnection = new CorbaConnection(); // Hides Corba stuff

         // Setup fail save handling ...
         long retryInterval = 4000L;
         int retries = -1;
         int maxMessages = 1000;
         long pingInterval = 1000L;  // ping xmlBlaster server every second
                                     // 0 switches pinging off
         corbaConnection.initFailSave(this, retryInterval, retries, maxMessages, pingInterval);

         // and do the login ...
         String loginName = "Ben";
         String passwd = "secret";
         String qos = "<qos></qos>";
         corbaConnection.login(loginName, passwd, qos, this); // Login to xmlBlaster
      }
      catch (XmlBlasterException e) {
          System.out.println("Login failed, ID=" + e.id + " REASON=" + e.reason);
      }
      ]]>
   </example>
   <author>ruff@swand.lake.de</author>
   <date>2000 02 29</date>
   <revision>$Revision: 1.4 $</revision>
   <testcase status="CLOSED">
      <name>-</name>
      <comment>-</comment>
      <test tool="SUITE">testsuite.org.xmlBlaster.TestFailSavePing.testFailSave()</test>
   </testcase>
</requirement>

