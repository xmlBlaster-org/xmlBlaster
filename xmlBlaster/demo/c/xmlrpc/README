Simple example how to access xmlBlaster with C and XmlRpc
=========================================================


Installation
============

Download XmlRpc lib from:
        http://xmlrpc-c.sourceforge.net/

This XmlRpc implementation needs the W3C HTTP client library
(download from http://www.w3.org/Library/)


Compile (on UNIX):
==================

cd ~/w3c-libwww-pre-5.3.0
-------------------------
./configure --prefix=${HOME}/xmlrpc_libwww --without-expat --without-ssl
make
make install

Libraries have been installed in:
   ${HOME}/xmlrpc_libwww/lib

export LD_LIBRARY_PATH=${HOME}/xmlrpc_libwww/lib
export PATH=${HOME}/xmlrpc_libwww/bin:$PATH


cd ~/xmlrpc-c-0.9.9    (http://xmlrpc-c.sourceforge.net/)
-------------------

./configure --prefix=${HOME}/xmlrpc_bin

Libraries have been installed in:
   ${HOME}/xmlrpc_bin/lib

export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${HOME}/xmlrpc_libwww/lib:${HOME}/xmlrpc_bin/lib
export PATH=${HOME}/xmlrpc_libwww/bin:${HOME}/xmlrpc_bin/bin:$PATH


cd <XMLBLASTER_HOME>/demo/c/xmlrpc
----------------------------------

   CLIENT_CFLAGS=`xmlrpc-c-config libwww-client --cflags`
   CLIENT_LIBS=`xmlrpc-c-config libwww-client --libs`
   gcc $CLIENT_CFLAGS -o client client.c $CLIENT_LIBS -Wall

   SERVER_CFLAGS=`xmlrpc-c-config abyss-server --cflags`
   SERVER_LIBS=`xmlrpc-c-config abyss-server --libs`
	gcc $SERVER_CFLAGS -o callbackServer callbackServer.c $SERVER_LIBS -Wall

Run it:
=======

Start xmlBlaster server

   export CLASSPATH=<XMLBLASTER_HOME>/lib/xmlBlaster.jar
   java org.xmlBlaster.Main


Start this client:

	client -xmlrpc.serverUrl http://idvssrv:8080/ -xmlrpc.cbUrl http://idvssrv:8081/RPC2 -name ben -passwd secret -dest ben -msgFile hello.txt

It will login as user 'ben', and send to user 'ben' a PtP message
(Probably you should start a Java client to receive the message like:
 java org.xmlBlaster.client.reader.SubscribeMessage  -name ben  -passwd secret  -oid __sys__TotalMem
) 

Start the callbackServer:

   callbackServer abyss.conf

01/2002 marcel
