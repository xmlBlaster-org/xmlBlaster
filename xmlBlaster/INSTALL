Howto install and compile xmlBlaster
====================================

You need JDK 2 or better to run xmlBlaster.


1) Install the JacORB CORBA library first (JacORB1_0-beta13):

   http://www.inf.fu-berlin.de/~brose/jacorb/

	 Set the environment for JacORB home directory, so that
	 the xmlBlaster Makefile (Makefile.Include) can find it:

     export JacORB_HOME=/usr/local/JacORB


2) Set the environment to the xmlBlaster directory

   For example using the sh, ksh or bash:

     export XMLBLASTER_HOME=$HOME/xmlBlaster

   or using the csh, tcsh:

     setenv XMLBLASTER_HOME $HOME/xmlBlaster


3) If you want to compile the stuff, the CLASSPATH has to
   point to jar files, to the sources (.java) and to the binaries (.class):

     export CLASSPATH=${CLASSPATH}:${XMLBLASTER_HOME}/classes
     export CLASSPATH=${CLASSPATH}:${XMLBLASTER_HOME}/src/java
     export CLASSPATH=${CLASSPATH}:${XMLBLASTER_HOME}/lib/omquery.jar
     export CLASSPATH=${CLASSPATH}:${XMLBLASTER_HOME}/lib/xtdash.jar
     export CLASSPATH=${CLASSPATH}:${XMLBLASTER_HOME}/lib/xml.jar        (xml-tr2.zip - http://developer.java.sun.com/developer/products/xml/)


4) Compile xmlBlaster:

   a) Edit $XMLBLASTER_HOME/Makefile.Include and customize it to your environment
    
   b) Go to the home directory of xmlBlaster and type:

     make all


5) Try the xmlBlaster server
   Examples in [] use a local running Webserver, customize .jacorb_properties before

   a) Start the JacORB Name Service:

       rm /tmp/NS_db;  ${JacORB_HOME}/bin/ns  /tmp/NS_Ref  /tmp/NS_db

       [rm /tmp/NS_db;  ${JacORB_HOME}/bin/ns  /usr/local/httpd/htdocs/NS_Ref  /tmp/NS_db]

   b) Start the xmlBlaster server (jaco is the java wrapper from jacORB):

       ${JacORB_HOME}/bin/jaco org.xmlBlaster.Main /tmp/NS_Ref

       [${JacORB_HOME}/bin/jaco org.xmlBlaster.MainGUI]

       (or for better debugging: jaco -Djava.compiler= org.xmlBlaster.Main)

    c) Start the client (paste the IOR String from /tmp/NS_Ref):

       ${JacORB_HOME}/bin/jaco org.xmlBlaster.Client IOR:....

			or

       ${JacORB_HOME}/bin/jaco testsuite.org.xmlBlaster.ClientOid `cat /tmp/NS_Ref` 

       [${JacORB_HOME}/bin/jaco  testsuite.org.xmlBlaster.ClientOid]

    Good. You have done it!


-------------------------------------------------------------------------
For developers

 1.) If you use the testsuite-goodies you must set the path to the
     testsuite- bin directory.

    sh, ksh or bash:

     export PATH=$PATH:$XMLBLASTER_HOME/testsuite/bin


-------------------------------------------------------------------------
C++ Clients with MICO 2.3.0 (http://www.mico.org)

1) Install mico
   ./configure
   make
	 make install

2) cd ${XMLBLASTER_HOME}/src/idl
   ${MICO_HOME}/idl/idl --poa --no-boa xmlBlaster.idl


-------------------------------------------------------------------------
COPE 0.50_51: Perl for xmlBlaster (http://www.lunatech.com/research/corba/cope/)
You need MICO first

1) get Exception-0.97_01A.tgz (ftp://ftp.matematik.su.se/pub/teke.)

   perl Makefile.PL
  	make
	 make install    (su)

2) get COPE
   cvs -z3 -d :pserver:anonymous@cvs.lunatech.com:/home/cvscope/repo login
 	 <password just type enter>
   cvs -z3 -d :pserver:anonymous@cvs.lunatech.com:/home/cvscope/repo checkout

	 perl Makefile.PL
	 make
	 make install    (su)

3) cd COPE/compat/MICO
   c++  -I. -I$MICO_HOME/include -I$MICO_HOME/include/ministl  -O   -fno-exceptions -fexceptions -O0 -I/usr/local/include  -c irior.cc -o irior.o
   c++  -I. -I$MICO_HOME/include -I$MICO_HOME/include/ministl  -O   -fno-exceptions -fexceptions -O0 -L$MICO_HOME/libs -L/usr/local/lib  -rdynamic irior.o -lmico2.3.0 -lreadline -lncurses -ldl -lm   -o irior

4) idl2perl -imp xmlBlaster.idl
